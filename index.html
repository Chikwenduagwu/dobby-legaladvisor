<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dobby Legal Advisor - Pidgin Mode</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fdfdfd;
      color: #333;
      padding: 20px;
    }
    h1 {
      color: #e67e22;
      text-align: center;
    }
    .chat-box {
      max-width: 700px;
      margin: 20px auto;
      padding: 20px;
      border-radius: 12px;
      background: #fff;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }
    .response {
      margin-top: 15px;
      padding: 12px;
      border-radius: 8px;
      background: #f9f9f9;
      border-left: 4px solid #e67e22;
    }
    button {
      background: #e67e22;
      border: none;
      padding: 10px 18px;
      color: #fff;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Dobby Legal Advisor ðŸ§¡ (Pidgin)</h1>
  <div class="chat-box">
    <input type="text" id="lawInput" placeholder="Type law act id e.g. act/2003/child-rights-act" style="width:70%;padding:10px;">
    <button onclick="getLaw()">Ask Dobby</button>
    <div id="reply" class="response"></div>
  </div>

  <script>
    async function fetchLawAfrica(actId) {
      const url = `https://api.laws.africa/v1/akn/ng/${actId}/`;
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error("Law no gree load");
        const data = await res.json();
        return data.title ? data.title : "No info dey for this law section.";
      } catch (err) {
        return "Abeg, I no fit fetch dis law now.";
      }
    }

    async function getLaw() {
      const lawId = document.getElementById("lawInput").value.trim();
      const replyDiv = document.getElementById("reply");
      replyDiv.innerHTML = "Hold on, I dey check law for you...";

      const lawTitle = await fetchLawAfrica(lawId);

      // Pidgin response formatting
      const response = `
        Omo! Na di law wey I find be this: <b>${lawTitle}</b><br><br>
        If you wan sabi beta gist, abeg always talk to lawyer wey sabi. 
        I just dey guide you small-small based on wetin constitution tok.
      `;
      replyDiv.innerHTML = response;
    }
  </script>
</body>
</html>
